<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="何必要叹气呢？" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="何必要叹气呢？" type="application/atom+xml"><link rel="alternate" type="application/json" title="何必要叹气呢？" href="https://www.htired.top/feed.json"/><link rel="preconnect" href="https://s4.zstatic.net"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.11"><link rel="modulepreload" href="/js/chunk-C7VPQAZJ.js"></link><link rel="modulepreload" href="/js/chunk-OP34SWN6.js"></link><link rel="modulepreload" href="/js/chunk-XSUN3PYO.js"></link><link rel="modulepreload" href="/js/chunk-XXNEALC7.js"></link><link rel="modulepreload" href="/js/copy-tex-NKUAO3PK.js"></link><link rel="modulepreload" href="/js/index.esm-63SO2F6W.js"></link><link rel="modulepreload" href="/js/post-5CPASQIY.js"></link><link rel="modulepreload" href="/js/quicklink-EAQ7ALMI.js"></link><link rel="modulepreload" href="/js/search-YBVTRJC2.js"></link><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="preload" href="https://github.com/htired/MyPic/blob/main/img/6c1bc1deb312449195a8c6a802e916c1.jpg?raw=true" as="image" fetchpriority="high"><link rel="preload" href="https://github.com/htired/MyPic/blob/main/img/a47a423f9d1c42f8895c53c72f27ff87.jpg?raw=true" as="image" fetchpriority="high"><link rel="preload" href="https://github.com/htired/MyPic/blob/main/img/792a4b6934fc491b81342206e3192e59.png?raw=true" as="image" fetchpriority="high"><link rel="preload" href="https://raw.githubusercontent.com/htired/MyPic/main/img/1b87e2c5880511ebb6edd017c2d2eca2.png" as="image" fetchpriority="high"><link rel="preload" href="https://github.com/htired/MyPic/blob/main/img/4fc551ee880a11ebb6edd017c2d2eca2.jpg?raw=true" as="image" fetchpriority="high"><link rel="preload" href="https://github.com/htired/MyPic/blob/main/img/t1.png?raw=true" as="image" fetchpriority="high"><meta name="description" content="送君南浦，伤如之何？"/><link rel="canonical" href="https://www.htired.top/2023/06/02/os/1%E3%80%81%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/"><title>1、操作系统概述</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">1、操作系统概述</h1><div class="meta"><span class="item" title="创建时间：2023-06-02 15:59:27"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2023-06-02T15:59:27+08:00">2023-06-02</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>20k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>18 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Htired Love</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" style="background-image: url(&quot;https://github.com/htired/MyPic/blob/main/img/6c1bc1deb312449195a8c6a802e916c1.jpg?raw=true&quot;);"></li><li class="item" style="background-image: url(&quot;https://github.com/htired/MyPic/blob/main/img/a47a423f9d1c42f8895c53c72f27ff87.jpg?raw=true&quot;);"></li><li class="item" style="background-image: url(&quot;https://github.com/htired/MyPic/blob/main/img/792a4b6934fc491b81342206e3192e59.png?raw=true&quot;);"></li><li class="item" style="background-image: url(&quot;https://raw.githubusercontent.com/htired/MyPic/main/img/1b87e2c5880511ebb6edd017c2d2eca2.png&quot;);"></li><li class="item" style="background-image: url(&quot;https://github.com/htired/MyPic/blob/main/img/4fc551ee880a11ebb6edd017c2d2eca2.jpg?raw=true&quot;);"></li><li class="item" style="background-image: url(&quot;https://github.com/htired/MyPic/blob/main/img/t1.png?raw=true&quot;);"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/os/" itemprop="item" rel="index" title="分类于操作系统"><span itemprop="name">操作系统<meta itemprop="position" content="0"/></span></a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.htired.top/2023/06/02/os/1%E3%80%81%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="htired"/><meta itemprop="description" content="路还很长，这不是最终的结果, 送君南浦，伤如之何？"/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="何必要叹气呢？"/></span><div class="body md" itemprop="articleBody"><h1 id="操作系统的概念-功能和目标"><a class="anchor" href="#操作系统的概念-功能和目标">#</a> 操作系统的概念、功能和目标</h1>
<p><strong>整体框架</strong></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111215614396.png" alt="image-20230111215614396" /></p>
<h2 id="操作系统的层次结构"><a class="anchor" href="#操作系统的层次结构">#</a> 操作系统的层次结构</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111210949060.png" alt="image-20230111210949060" /></p>
<p>对于<strong>操作系统</strong>：</p>
<ol>
<li>负责<strong>管理协调</strong>硬件、软件登计算机资源的工作</li>
<li>为上层的应用程序、用户提供简单易用的<strong>服务</strong></li>
<li>操作系统是<strong>系统软件</strong>，而不是硬件</li>
</ol>
<p>对于<strong>裸机（纯硬件）</strong>：</p>
<ul>
<li>例如：<strong>CPU</strong>、内存、硬盘</li>
</ul>
<hr />
<h2 id="操作系统的定义"><a class="anchor" href="#操作系统的定义">#</a> 操作系统的定义</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>操作系统</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}操作系统</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">操作系统</span></span></span></span>（Operating System，OS）是指控制和管理整个计算机系统的硬件和软件资源，</p>
<ul>
<li>并合理地<strong>组织调度</strong>计算机的工作和资源的分配，</li>
<li>以提供给用户和其他软件方便的<strong>接口和环境</strong>，（从下往上）</li>
<li>它是计算机系统中最基本的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>系统软件</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}系统软件</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">系统软件</span></span></span></span>。（从上往下）</li>
</ul>
<p>例如：任务管理器</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111211412982.png" alt="image-20230111211412982" /></p>
<hr />
<h2 id="操作系统的功能和目标"><a class="anchor" href="#操作系统的功能和目标">#</a> 操作系统的功能和目标</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111211512098.png" alt="image-20230111211512098" /></p>
<p>① 操作系统<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>作为系统资源的管理者</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}作为系统资源的管理者</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">作为系统资源的管理者</span></span></span></span>（这些资源包括软件、硬件、文件等），</p>
<ul>
<li>需要提供什么功能？</li>
</ul>
<p>② 操作系统<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>作为用户与计算机硬件之间的接口</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}作为用户与计算机硬件之间的接口</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">作为用户与计算机硬件之间的接口</span></span></span></span>，</p>
<ul>
<li>要为其上层的用户、应用程序提供简单易用的服务，需要实现什么功能？</li>
</ul>
<p>③ 操作系统<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>作为最接近硬件的层次</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}作为最接近硬件的层次</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">作为最接近硬件的层次</span></span></span></span>，</p>
<ul>
<li>需要在纯硬件的基础上实现什么功能？</li>
</ul>
<h3 id="os-作为系统资源的管理者"><a class="anchor" href="#os-作为系统资源的管理者">#</a> OS 作为系统资源的管理者</h3>
<p><strong>补充</strong>：进程是一个程序的执行过程。执行前<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>需要将该程序放到内存中</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}需要将该程序放到内存中</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">需要将该程序放到内存中</span></span></span></span>，才能被 <strong>CPU</strong> 处理</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111211729018.png" alt="image-20230111211729018" /></p>
<p>如下所示：使用 <strong>QQ</strong> 视频聊天的过程</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111211945694.png" alt="image-20230111211945694" /></p>
<p><strong>Step 1</strong>：在各个文件夹找到 QQ 安装的位置（如 D:/Tencent/QQ/Bin）</p>
<ul>
<li>
<p>逐层打开文件夹，找到 QQ.exe 这个程序（可执行文件）的存放位置</p>
<p>操作系统的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="blue"><mtext>文件管理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{blue}文件管理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:blue;">文件管理</span></span></span></span></p>
</li>
</ul>
<p><strong>Step 2</strong>：双击打开 QQ.exe</p>
<ul>
<li>
<p>需要把该程序相关数据放入内存</p>
<p>操作系统的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="blue"><mtext>存储器</mtext><mo stretchy="false">(</mo><mtext>内存</mtext><mo stretchy="false">)</mo><mtext>管理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{blue}存储器(内存)管理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback" style="color:blue;">存储器</span><span class="mopen" style="color:blue;">(</span><span class="mord cjk_fallback" style="color:blue;">内存</span><span class="mclose" style="color:blue;">)</span><span class="mord cjk_fallback" style="color:blue;">管理</span></span></span></span></p>
</li>
</ul>
<p><strong>Step 3</strong>：QQ 程序正常运行</p>
<ul>
<li>
<p>对应的进程被处理机（<strong>CPU</strong>）正常接收</p>
<p>操作系统的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="blue"><mtext>处理机管理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{blue}处理机管理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:blue;">处理机管理</span></span></span></span></p>
</li>
</ul>
<p><strong>Step 4</strong>：开始和朋友视频聊天</p>
<ul>
<li>
<p>需要把摄像头设备分配给进程</p>
<p>操作系统的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="blue"><mtext>设备管理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{blue}设备管理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:blue;">设备管理</span></span></span></span></p>
</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111212036830.png" alt="image-20230111212036830" /></p>
<p>在实现这些管理的时候，操作系统需要保证这些是安全、高效的</p>
<ul>
<li>这也是操作系统所需要追求的目标</li>
</ul>
<hr />
<h3 id="os-作为用户和计算机硬件之间的接口"><a class="anchor" href="#os-作为用户和计算机硬件之间的接口">#</a> OS 作为用户和计算机硬件之间的接口</h3>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111212835638.png" alt="image-20230111212835638" /></p>
<p>命令接口：允许用户<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>直接使用</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}直接使用</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">直接使用</span></span></span></span></p>
<p>程序接口：允许用户通过程序<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>间接使用</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}间接使用</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">间接使用</span></span></span></span></p>
<p><strong>GUl</strong>：现代操作系统中最流行的图形用户接口</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111212925310.png" alt="image-20230111212925310" /></p>
<hr />
<h4 id="命令接口程序接口"><a class="anchor" href="#命令接口程序接口">#</a> 命令接口 &amp; 程序接口</h4>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111213024667.png" alt="image-20230111213024667" /></p>
<hr />
<p>联机命令接口 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>交互式</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}交互式</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">交互式</span></span></span></span>命令接口</p>
<ul>
<li>用户输一句，操作系统做一句</li>
</ul>
<p>对于 Windows 系统，例如：命令解释器（cmd）</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111213207783.png" alt="image-20230111213207783" /></p>
<hr />
<p>脱机命令接口 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>批处理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}批处理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">批处理</span></span></span></span>命令接口</p>
<p>例如：其中某个 *.bat 文件</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111213417378.png" alt="image-20230111213417378" /></p>
<p>例如：Linux 中使用的 Shell 脚本</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111213629058.png" alt="image-20230111213629058" /></p>
<hr />
<p>程序接口 = 系统调用</p>
<p>如 C:\Windows\System32\user32.dll 程序员在程序中调用 user32.dll</p>
<ul>
<li>
<p>该调用过程即为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>系统调用</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}系统调用</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">系统调用</span></span></span></span>，即可实现创建窗口等功能。</p>
<p>只能通过用户程序<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>间接</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}间接</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">间接</span></span></span></span>使用。</p>
</li>
</ul>
<p><strong>注意</strong>：系统调用 = 系统调用命令 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>广义指令</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}广义指令</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">广义指令</span></span></span></span></p>
<h4 id="gui"><a class="anchor" href="#gui">#</a> GUI</h4>
<p><strong>GUI</strong>：图形用户界面（Graphical User Interface）</p>
<p>用户可以使用形象的图形界面进行操作，而不再需要记忆复杂的命令、参数。</p>
<p>例如：在 Windows 操作系统中，删除一个文件只需要把文件 “拖拽” 到回收站即可。</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111214150626.png" alt="image-20230111214150626" /></p>
<h4 id="小结"><a class="anchor" href="#小结">#</a> 小结</h4>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111214338885.png" alt="image-20230111214338885" /></p>
<h3 id="作为最接近硬件的层次"><a class="anchor" href="#作为最接近硬件的层次">#</a> 作为最接近硬件的层次</h3>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111214409457.png" alt="image-20230111214409457" /></p>
<p>需要提供的功能和目标：实现对硬件机器的拓展</p>
<p>没有任何软件支持的计算机成为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>裸机</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}裸机</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">裸机</span></span></span></span>。</p>
<ul>
<li>在裸机上安装的操作系统，可以提供资源管理功能和方便用户的服务功能，将裸机改造成功能更强、使用更方便的机器</li>
</ul>
<p>通常把覆盖了软件的机器成为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>扩充机器</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}扩充机器</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">扩充机器</span></span></span></span>，</p>
<ul>
<li>又称之为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>虚拟机</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}虚拟机</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">虚拟机</span></span></span></span></li>
</ul>
<hr />
<p><strong>类比</strong>：</p>
<ul>
<li>
<p>硬件：锤子、锯子、木头、钉子.....</p>
</li>
<li>
<p>操作系统：优秀的工匠</p>
</li>
</ul>
<p>操作系统对硬件机器的拓展：通过优秀工匠，这些简单的原料可以组织成房子、帆船、匹诺曹。。。</p>
<p>普通用户可<strong>直接使用</strong>工匠提供的房子、帆船、匹诺曹，而<strong>无需关心</strong>这些东西在底层是怎么组织起来工作的</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111214650186.png" alt="image-20230111214650186" /></p>
<h2 id="整体框架"><a class="anchor" href="#整体框架">#</a> 整体框架</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230111215605189.png" alt="image-20230111215605189" /></p>
<h1 id="操作系统的特征"><a class="anchor" href="#操作系统的特征">#</a> 操作系统的特征</h1>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112194456116.png" alt="image-20230112194456116" /></p>
<h2 id="并发"><a class="anchor" href="#并发">#</a> 并发</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发</span></span></span></span>：指两个或多个事件在同一时间间隔内发生。</p>
<ul>
<li>这些事件<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>宏观上是同时发生</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}宏观上是同时发生</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">宏观上是同时发生</span></span></span></span>的，但<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>微观上是交替发生</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}微观上是交替发生</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">微观上是交替发生</span></span></span></span>的。</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并行</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并行</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并行</span></span></span></span>：指两个或多个事件在同一时刻同时发生。</p>
<hr />
<p>例如：假设小渣与老渣每人由两个女朋友。任务 1 ：和一号约会；任务 2：和二号约会</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112185728634.png" alt="image-20230112185728634" /></p>
<hr />
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>操作系统的并发性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}操作系统的并发性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">操作系统的并发性</span></span></span></span>指计算机系统中同时存在着多个运行着的程序。</p>
<p>一个单核处理机（<strong>CPU</strong>）同一时刻只能执行一个程序，因此操作系统会负责协调多个程序交替执行（这些程序微观上是交替执行的，但宏观上看起来就像在同时执行)</p>
<p>事实上，操作系统就是伴随着 “多道程序技术” 而出现的。</p>
<ul>
<li>因此，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>操作系统和程序并发是一起诞生</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}操作系统和程序并发是一起诞生</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">操作系统和程序并发是一起诞生</span></span></span></span>的</li>
</ul>
<p>当今的计算机，一般都是多核 <strong>CPU</strong> ，比如 <strong>Intel</strong> 的第八代 <strong>i3</strong> 处理器就是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 核 <strong>CPU</strong></p>
<ul>
<li>
<p>这意味着同一时刻可以有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 个程序<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并行</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并行</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并行</span></span></span></span>执行，</p>
<p>但是操作系统的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发性依然必不可少</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发性依然必不可少</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发性依然必不可少</span></span></span></span>，</p>
<p>当代人使用计算机绝对有 4 个以上的程序需要同时工作。</p>
</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112190227426.png" alt="image-20230112190227426" /></p>
<hr />
<h2 id="共享互斥同时"><a class="anchor" href="#共享互斥同时">#</a> 共享（互斥 / 同时）</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>共享</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}共享</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">共享</span></span></span></span>即资源共享，是指系统中的资源可供内存中多个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发</span></span></span></span>执行的进程共同使用。</p>
<ul>
<li>例如：多线程共享同一个进程的资源</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112191158930.png" alt="image-20230112191158930" /></p>
<p>所谓的 “同时” 往往是宏观上的，而在微观上，这些进程<strong>可能</strong>是交替地对该资源进行访问的（即分时共享）</p>
<ul>
<li>可能：例如边听歌边打游戏，此时游戏声音与音乐播放声音微观上<strong>并行</strong></li>
</ul>
<p>例如：</p>
<ul>
<li>
<p><strong>互斥</strong>共享方式：使用 QQ 和微信视频。同一时间段内摄像头只能分配给其中一个进程。</p>
</li>
<li>
<p><strong>同时</strong>共享方式：使用 QQ 发送文件 A，同时使用微信发送文件 B。</p>
<p><strong>宏观</strong>上看，两边都在同时读取并发送文件说明两个进程都在访问硬盘资源，从中读取数据。</p>
<p><strong>微观</strong>上看，两个进程是<strong>交替</strong>着访问硬盘的。</p>
</li>
</ul>
<hr />
<h2 id="并发和共享的关系"><a class="anchor" href="#并发和共享的关系">#</a> 并发和共享的关系</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发性</span></span></span></span>指计算机系统中同时存在着多个运行着的程序。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>共享性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}共享性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">共享性</span></span></span></span>是指系统中的资源可供内存中多个并发执行的进程共同使用。</p>
<p>例如：使用 QQ 发送文件 A，同时使用微信发送文件 B。</p>
<ol>
<li>两个进程正在并发执行（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发性</span></span></span></span>）</li>
<li>需要共享的访问硬盘资源（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>共享性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}共享性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">共享性</span></span></span></span>）</li>
</ol>
<p><strong>注意</strong>：</p>
<ul>
<li>如果<strong>失去并发性</strong>，则系统中只有一个程序正在运行，则共享性<strong>失去存在的意义</strong></li>
<li>如果<strong>失去共享性</strong>，则 QQ 和微信不能同时访问硬盘资源，就<strong>无法实现同时</strong>发送文件，也就无法并发</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112192049296.png" alt="image-20230112192049296" /></p>
<h2 id="虚拟时分复用空分复用"><a class="anchor" href="#虚拟时分复用空分复用">#</a> 虚拟（时分复用 / 空分复用）</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>虚拟</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}虚拟</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">虚拟</span></span></span></span>是指把一个物理上的实体变为若干个逻辑上的对应物。</p>
<ul>
<li>物理实体 (前者）是实际存在的，</li>
<li>而逻辑上对应物（后者）是用户感受到的。</li>
</ul>
<p>例如：</p>
<p>背景知识：一个程序<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>需要放入内存</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}需要放入内存</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">需要放入内存</span></span></span></span>并给它<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>分配</mtext><mtext mathvariant="monospace">CPU</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}分配\texttt{CPU}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">分配</span><span class="mord text" style="color:red;"><span class="mord texttt" style="color:red;">CPU</span></span></span></span></span> 才能执行</p>
<ul>
<li>
<p><strong>GTA5</strong> 需要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">4\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span> 的运行内存，<strong>QQ</strong> 需要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>256</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">256\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">256</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span> 的内存，迅雷需要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>256</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">256\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">256</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span> 的内存，网易云音乐需要 $256\texttt {MB} $ 的内存.......</p>
<p>我的电脑：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">4\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span> 内存</p>
<p>问题：这些程序同时运行需要的内存远大于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">4\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span>，那么为什么它们还可以在我的电脑上同时运行呢？</p>
<p>答：这是<strong>虚拟存储器技术</strong>（虚拟技术中的 &quot;<strong> 空分复用技术</strong> &quot;）。</p>
<p>实际只有  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">4\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span> 的内存，在用户看来似乎远远大于  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mtext mathvariant="monospace">MB</mtext></mrow><annotation encoding="application/x-tex">4\texttt{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mord text"><span class="mord texttt">MB</span></span></span></span></span></p>
</li>
</ul>
<hr />
<p>某单核 <strong>CPU</strong> 的计算机中，用户打开了以下软件。。。</p>
<p>问题：既然一个程序需要被分配 <strong>CPU</strong> 才能正常执行，</p>
<ul>
<li>那么为什么单核 <strong>CPU</strong> 的电脑中能同时运行这么多个程序呢？</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112193003128.png" alt="image-20230112193003128" /></p>
<p>答：这是<strong>虚拟处理器技术</strong>。实际上只有一个单核 <strong>CPU</strong> ，在用户看来似乎有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> 个 <strong>CPU</strong> 在同时为自己服务</p>
<ul>
<li>
<p>虚拟技术中的 &quot;<strong> 时分复用技术</strong> &quot; 。微观上处理机在各个微小的时间段内交替着为各个进程服务</p>
<p>例如：时间片轮转（进程调度算法）</p>
</li>
</ul>
<hr />
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112194331491.png" alt="image-20230112194331491" /></p>
<hr />
<h2 id="异步"><a class="anchor" href="#异步">#</a> 异步</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>异步</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}异步</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">异步</span></span></span></span>是指，</p>
<ul>
<li>在多道程序环境下，允许多个程序并发执行，但由于资源有限，进程的执行不是一贯到底的，而是<strong>走走停停</strong>，以不可预知的速度向前推进，这就是进程的异步性。</li>
</ul>
<p>由于系统的<strong>有限资源导致的</strong></p>
<p>例如：老渣要和两个女孩并发约会</p>
<p>一号的指令 1 ：老渣陪我吃饭</p>
<p>一号的指令 2 ：老渣把心给我</p>
<p>二号的指令 1 ：老渣把心给我</p>
<p>二号的指令 2 ：老渣陪我吃饭</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112195333739.png" alt="image-20230112195333739" /></p>
<p>与一号、二号的约会相当于对两个进程的处理，每个进程都有各自需要执行的指令。</p>
<p>老渣的心相当于<strong>有限的系统资源</strong>。</p>
<hr />
<p>由于可分配的资源有限，进程的执行不是一贯到底的，而是走走停停的，以不可预知的速度向前推进。</p>
<p>显然，如果失去了并发性，则系统只能串行地处理各个进程，每个进程的执行会一贯到底。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>只有系统拥有并发性，才有可能导致异步性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}只有系统拥有并发性，才有可能导致异步性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">只有系统拥有并发性，才有可能导致异步性</span></span></span></span>。</p>
<h2 id="小结-2"><a class="anchor" href="#小结-2">#</a> 小结</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112200317242.png" alt="image-20230112200317242" /></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发和共享互为存在条件，就谈不上虚拟和异步</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发和共享互为存在条件，就谈不上虚拟和异步</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发和共享互为存在条件，就谈不上虚拟和异步</span></span></span></span>，</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>因此并发和共享是操作系统的两个最基本的特征</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}因此并发和共享是操作系统的两个最基本的特征</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">因此并发和共享是操作系统的两个最基本的特征</span></span></span></span></p>
<h1 id="操作系统的发展和分类"><a class="anchor" href="#操作系统的发展和分类">#</a> 操作系统的发展和分类</h1>
<p><strong>整体框架</strong></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112200750460.png" alt="image-20230112200750460" /></p>
<h2 id="手工操作系阶段"><a class="anchor" href="#手工操作系阶段">#</a> 手工操作系阶段</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112201207915.png" alt="image-20230112201207915" /></p>
<h3 id="主要缺点"><a class="anchor" href="#主要缺点">#</a> 主要缺点</h3>
<p>用户<strong>独占全机</strong>、<strong>人机速度矛盾</strong>导致资源利用率极低</p>
<ul>
<li>
<p>一个用户把自己的程序放入纸带机，等待计算机执行完后，用户再取走自己的数据。</p>
<p>这时候，下一个用户才可以继续接着使用该计算机系统</p>
</li>
</ul>
<p>在一个时间段内只允许一个用户使用，速度相差极大</p>
<h2 id="批处理阶段"><a class="anchor" href="#批处理阶段">#</a> 批处理阶段</h2>
<h3 id="单道批处理系统"><a class="anchor" href="#单道批处理系统">#</a> 单道批处理系统</h3>
<p>引入<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>脱机输入</mtext><mi mathvariant="normal">/</mi><mtext>输出技术</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}脱机输入/输出技术</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback" style="color:red;">脱机输入</span><span class="mord" style="color:red;">/</span><span class="mord cjk_fallback" style="color:red;">输出技术</span></span></span></span>（用磁带完成），</p>
<ul>
<li>
<p>并<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>监督程序</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}监督程序</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">监督程序</span></span></span></span>负责控制作业的输入、输出</p>
<p>操作系统的雏形</p>
</li>
</ul>
<p>例如：程序员提前将自己的程序放入<strong>纸带机</strong>上，通过<strong>外围机</strong>将纸带数据读到<strong>磁带</strong>（输入 / 输出设备）</p>
<ul>
<li>
<p>计算机直接从磁带（更高速的输入 / 输出设备上）把各程序<strong>依次</strong>读到计算机的内存中进行处理，</p>
<p>处理完之后再依次输出到设备当中...</p>
</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112202200548.png" alt="image-20230112202200548" /></p>
<hr />
<h4 id="主要优点缺点"><a class="anchor" href="#主要优点缺点">#</a> 主要优点 &amp; 缺点</h4>
<p>主要优点：缓解了一定程度的人机速度矛盾，资源利用率有所提升</p>
<p>主要缺点：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>内存中仅能有一道程序运行</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}内存中仅能有一道程序运行</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">内存中仅能有一道程序运行</span></span></span></span>，</p>
<ul>
<li>只有该程序运行结束之后才能调入下一道程序。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext mathvariant="monospace">CPU</mtext><mtext>有大量的时间是在空闲等待</mtext><mtext mathvariant="monospace">I/O</mtext><mtext>完成</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}\texttt{CPU}有大量的时间是在空闲等待 \texttt{I/O} 完成</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord text" style="color:red;"><span class="mord texttt" style="color:red;">CPU</span></span><span class="mord cjk_fallback" style="color:red;">有大量的时间是在空闲等待</span><span class="mord text" style="color:red;"><span class="mord texttt" style="color:red;">I/O</span></span><span class="mord cjk_fallback" style="color:red;">完成</span></span></span></span>（例如：每一次对磁带进行输入 / 输出数据）。</li>
<li>资源利用率依然很低。</li>
</ul>
<h3 id="多道批处理系统"><a class="anchor" href="#多道批处理系统">#</a> 多道批处理系统</h3>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112203111288.png" alt="image-20230112203111288" /></p>
<hr />
<h4 id="主要优点缺点-2"><a class="anchor" href="#主要优点缺点-2">#</a> 主要优点 &amp; 缺点</h4>
<p>主要优点：多道程序<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>并发</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}并发</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">并发</span></span></span></span>执行，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>共享</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}共享</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">共享</span></span></span></span>计算机资源。</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>资源利用率大幅提升</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}资源利用率大幅提升</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">资源利用率大幅提升</span></span></span></span>，<strong>CPU</strong> 和其他资源保持 “忙碌” 状态，系统吞叶量增大。</li>
</ul>
<p>主要缺点：用户响应时间长，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>没有人机交互功能</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}没有人机交互功能</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">没有人机交互功能</span></span></span></span></p>
<ul>
<li>用户提交自己的作业之后就只能<strong>等待</strong>计算机处理完成，<strong>中间不能控制自己的作业执行</strong></li>
</ul>
<hr />
<p>问题：为何多道批处理系统能使资源利用率大幅提升？</p>
<p>假设计算机需要处理三个作业</p>
<p>作业一：输入 1 秒，计算 1 秒，输出 1 秒</p>
<p>作业二：输入 1 秒，计算 1 秒，输出 1 秒</p>
<p>作业三：输入 1 秒，计算 1 秒，输出 1 秒</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112204557444.png" alt="image-20230112204557444" /></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112204931258.png" alt="image-20230112204931258" /></p>
<p>计算进程在计算的时候，输入进程可以开始输入数据，输出进程可以开始输出数据</p>
<p>例如：计算机组成原理中的流水线技术，计算机网络中的分组交换</p>
<h2 id="分时操作系统"><a class="anchor" href="#分时操作系统">#</a> 分时操作系统</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112205901686.png" alt="image-20230112205901686" /></p>
<p>分时操作系统：计算机以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>时间片</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}时间片</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">时间片</span></span></span></span>为单位<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>轮流为各个用户</mtext><mi mathvariant="normal">/</mi><mtext>作业服务</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}轮流为各个用户/作业服务</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback" style="color:red;">轮流为各个用户</span><span class="mord" style="color:red;">/</span><span class="mord cjk_fallback" style="color:red;">作业服务</span></span></span></span>，各个用户可通过终端与计算机进行交互。</p>
<p>例如：<strong>Linux</strong> 操作系统可以明显的体现出多个用户可以通过终端与计算机进行交互。</p>
<ul>
<li>典型的分时操作系统</li>
</ul>
<h3 id="主要优点缺点-3"><a class="anchor" href="#主要优点缺点-3">#</a> 主要优点 &amp; 缺点</h3>
<p>主要优点：用户请求可以被即时响应，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>解决了人机交互问题</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}解决了人机交互问题</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">解决了人机交互问题</span></span></span></span>。</p>
<ul>
<li>允许多个用户同时使用一台计算机，并且用户对计算机的操作相互独立，感受不到别人的存在。</li>
</ul>
<p>主要缺点：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>不能优先处理一些紧急任务</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}不能优先处理一些紧急任务</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">不能优先处理一些紧急任务</span></span></span></span>。</p>
<ul>
<li>操作系统对各个用户 / 作业都是<strong>完全公平</strong>的，循环地为每个用户作业服务一个时间片，不区分任务的紧急性。</li>
</ul>
<h2 id="实时操作系统硬实时软实时"><a class="anchor" href="#实时操作系统硬实时软实时">#</a> 实时操作系统（硬实时 / 软实时）</h2>
<h3 id="主要优点"><a class="anchor" href="#主要优点">#</a> 主要优点</h3>
<p>主要优点：能够优先响应一些紧急任务，某些紧急任务不需时间片排队。</p>
<p>在实时操作系统的控制下，计算机系统接收到外部信号后及时进行处理，</p>
<ul>
<li>并且<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>要在严格的时限内处理完事件</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}要在严格的时限内处理完事件</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">要在严格的时限内处理完事件</span></span></span></span>。</li>
<li>实时操作系统的主要特点是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>及时性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}及时性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">及时性</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>可靠性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}可靠性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">可靠性</span></span></span></span></li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112210736595.png" alt="image-20230112210736595" /></p>
<h2 id="其他几种操作系统"><a class="anchor" href="#其他几种操作系统">#</a> 其他几种操作系统</h2>
<p>网络操作系统：是伴随着计算机网络的发展而诞生的，能把网络中各个计算机有机地结合起来，</p>
<ul>
<li>
<p>实现数据传送等功能，</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>实现网络中各种资源的共享</mtext><mo stretchy="false">(</mo><mtext>如文件共享</mtext><mo stretchy="false">)</mo><mtext>和各台计算机之间的通信。</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}实现网络中各种资源的共享(如文件共享)和各台计算机之间的通信。</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback" style="color:red;">实现网络中各种资源的共享</span><span class="mopen" style="color:red;">(</span><span class="mord cjk_fallback" style="color:red;">如文件共享</span><span class="mclose" style="color:red;">)</span><span class="mord cjk_fallback" style="color:red;">和各台计算机之间的通信。</span></span></span></span></p>
<p>(如: Windows NT 就是一种典型的网络操作系统，网站服务器就可以使用)</p>
</li>
</ul>
<p>分布式操作系统：主要特点是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>分布性和并行性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}分布性和并行性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">分布性和并行性</span></span></span></span>。</p>
<ul>
<li>系统中的各台计算机<strong>地位相同</strong>，</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>任何工作都可以分布在这些计算机上，由它们并行、协同完成这个任务</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}任何工作都可以分布在这些计算机上，由它们并行、协同完成这个任务</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">任何工作都可以分布在这些计算机上，由它们并行、协同完成这个任务</span></span></span></span>。</li>
</ul>
<p>个人计算机操作系统：如 <strong>Windows XP</strong>、<strong>MacOS</strong>，方便个人使用。</p>
<h2 id="整体框架-2"><a class="anchor" href="#整体框架-2">#</a> 整体框架</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112211408709.png" alt="image-20230112211408709" /></p>
<h1 id="操作系统的运行机制和体系结构"><a class="anchor" href="#操作系统的运行机制和体系结构">#</a> 操作系统的运行机制和体系结构</h1>
<p><strong>整体框架</strong></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112230200249.png" alt="image-20230112230200249" /></p>
<h2 id="运行机制"><a class="anchor" href="#运行机制">#</a> 运行机制</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112230054721.png" alt="image-20230112230054721" /></p>
<h3 id="什么是指令"><a class="anchor" href="#什么是指令">#</a> 什么是指令</h3>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112220849674.png" alt="image-20230112220849674" /></p>
<p>简单来说，“指令” 就是处理器（<strong>CPU</strong>）能识别、执行的最基本命令</p>
<p>比如：加法指令就是让 <strong>CPU</strong> 进行加法运算</p>
<hr />
<h3 id="特权指令非特权指令"><a class="anchor" href="#特权指令非特权指令">#</a> 特权指令 &amp; 非特权指令</h3>
<p>新的问题:</p>
<p>有的指令 “人畜无害” 。</p>
<ul>
<li>比如：加、减、乘、除这些普通的运算指令。</li>
</ul>
<p>有的指令有很高的权限。</p>
<ul>
<li>比如：内存清零指令。如果用户程序可以使用这个指令，就意味着一个用户可以将其他用户的内存数据随意清零，这样做显然是很危险的。</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112221347317.png" alt="image-20230112221347317" /></p>
<hr />
<h3 id="用户态内核态"><a class="anchor" href="#用户态内核态">#</a> 用户态 &amp; 内核态</h3>
<p>问题：<strong>CPU</strong> 如何判断当前是否可以执行特权指令？</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112221603087.png" alt="image-20230112221603087" /></p>
<h3 id="内核程序应用程序"><a class="anchor" href="#内核程序应用程序">#</a> 内核程序 &amp; 应用程序</h3>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112221808649.png" alt="image-20230112221808649" /></p>
<h2 id="操作系统的内核"><a class="anchor" href="#操作系统的内核">#</a> 操作系统的内核</h2>
<h3 id="内核"><a class="anchor" href="#内核">#</a> 内核</h3>
<p>问题：操作系统中的哪些功能应该由内核程序实现呢？</p>
<p>例如：我们安装完 <strong>Windows</strong> 操作系统后，会发现操作系统提供了多种多样的功能，</p>
<ul>
<li>
<p>比如 “记事本”、“任务管理器”。</p>
<p>然而，这些功能并不是必不可少的。即使没有 “任务管理器”，我们仍然可以使用计算机。</p>
</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112223503598.png" alt="image-20230112223503598" /></p>
<hr />
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>内核</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}内核</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">内核</span></span></span></span>是计算机上配置的底层<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>软件</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}软件</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">软件</span></span></span></span>，是操作系统最基本、最核心的部分。</p>
<p>实现操作系统内核功能的那些程序就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>内核程序</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}内核程序</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">内核程序</span></span></span></span>。</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112224127790.png" alt="image-20230112224127790" /></p>
<h2 id="操作系统的体系结构"><a class="anchor" href="#操作系统的体系结构">#</a> 操作系统的体系结构</h2>
<h3 id="大内核微内核"><a class="anchor" href="#大内核微内核">#</a> 大内核 &amp; 微内核</h3>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112224733300.png" alt="image-20230112224733300" /></p>
<p>例如：有的内核划分如下所示：</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112224509911.png" alt="image-20230112224509911" /></p>
<hr />
<p><strong>类比</strong>：</p>
<p>操作系统的体系结构问题与企业的管理问题很相似。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>内核</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}内核</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">内核</span></span></span></span>就是企业的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>管理层</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}管理层</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">管理层</span></span></span></span>，负责一些重要的工作。</p>
<ul>
<li>只有管理层才能执行<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>特权指令</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}特权指令</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">特权指令</span></span></span></span>，普通员工只能执行<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>非特权指令</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}非特权指令</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">非特权指令</span></span></span></span>。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>用户态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}用户态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">用户态</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span>之间的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>切换</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}切换</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">切换</span></span></span></span>相当于普通员工和管理层之间的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>工作交接</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}工作交接</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">工作交接</span></span></span></span></li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>大内核</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}大内核</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">大内核</span></span></span></span>：企业初创时体量不大，管理层的人会负责大部分的事情。</p>
<ul>
<li>优点是效率高；</li>
<li>缺点是组织结构混乱，难以维护。</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>微内核</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}微内核</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">微内核</span></span></span></span>：随着企业体量越来越大，管理层只负责最核心的一些工作。</p>
<ul>
<li>优点是组织结构清晰，方便维护；</li>
<li>缺点是效率低。</li>
</ul>
<h2 id="整体框架-3"><a class="anchor" href="#整体框架-3">#</a> 整体框架</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230112230146509.png" alt="image-20230112230146509" /></p>
<h1 id="中断和异常"><a class="anchor" href="#中断和异常">#</a> 中断和异常</h1>
<p><strong>整体框架</strong></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113233754861.png" alt="image-20230113233754861" /></p>
<h2 id="中断的概念和作用"><a class="anchor" href="#中断的概念和作用">#</a> 中断的概念和作用</h2>
<ol>
<li>
<p>当中断发生时，<strong>CPU</strong> 立即进入<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span></p>
</li>
<li>
<p>当中断发生后，当前运行的进程暂停运行，并由操作系统内核对中断进行处理</p>
</li>
<li>
<p>对于不同的中断信号，会进行不同的处理</p>
</li>
</ol>
<p>发生了中断，就意味着需要操作系统介入，开展管理工作。由于操作系统的管理工作（比如进程切换、分配 <strong>I/O</strong> 设备等）需要使用特权指令，</p>
<ul>
<li>因此 <strong>CPU</strong> 要从用户态转为核心态。</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>中断</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}中断</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">中断</span></span></span></span>可以使 <strong>CPU</strong> 从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>用户态切换为核心态，使操作系统获得计算机的控制权。</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}用户态切换为核心态，使操作系统获得计算机的控制权。</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">用户态切换为核心态，使操作系统获得计算机的控制权。</span></span></span></span></p>
<ul>
<li>有了中断，才能实现多道程序并发执行。</li>
</ul>
<p><strong>注意</strong>：中断是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>唯一</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}唯一</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">唯一</span></span></span></span>途径</p>
<p>&quot;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext><mo>−</mo><mo>&gt;</mo><mtext>用户态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态-&gt;用户态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span><span class="mord" style="color:red;">−</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:red;">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">用户态</span></span></span></span> &quot; 的切换时通过执行一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>特权指令</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}特权指令</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">特权指令</span></span></span></span></p>
<ul>
<li>将程序状态字（<strong>PSW</strong>）的标志位设置为 &quot;用户态&quot;</li>
</ul>
<hr />
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113223013098.png" alt="image-20230113223013098" /></p>
<p>如上所示：例如单道批处理系统</p>
<p>为了解决上述问题，人们发明了操作系统（作为计算机的管理者），引入中断机制，</p>
<ul>
<li>实现了<strong>多道程序并发执行</strong>（例如：多道批处理系统）</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>本质</mtext><mo>:</mo></mstyle></mrow><annotation encoding="application/x-tex">\color{red}本质:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">本质</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:red;">:</span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>发生中断</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}发生中断</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">发生中断</span></span></span></span>就意味着<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>需要操作系统介入，开展管理工作</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}需要操作系统介入，开展管理工作</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">需要操作系统介入，开展管理工作</span></span></span></span></li>
</ul>
<p>对于进程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 若收到计时部件发出的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>中断信号</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}中断信号</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">中断信号</span></span></span></span></p>
<ul>
<li>切换为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span>对中断进行处理</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113223412900.png" alt="image-20230113223412900" /></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113223750363.png" alt="image-20230113223750363" /></p>
<hr />
<p>对于进程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>，若进程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 发出系统调用</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>内中断信号</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}内中断信号</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">内中断信号</span></span></span></span></p>
<p>请求输出（例如系统的输入、输出操作是属于<strong>特权指令</strong>）</p>
<ul>
<li>因此用户进程，这些普通的应用程序只能通过系统调用的方式，内中断信号的方式来主动的要求操作系统来完成操作</li>
</ul>
</li>
<li>
<p>切换为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span>对中断进行处理</p>
</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113224047359.png" alt="image-20230113224047359" /></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113224305486.png" alt="image-20230113224305486" /></p>
<p>其中：打印机是互斥设备</p>
<hr />
<p>进程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 与 <strong>I/O</strong> 设备是并行的工作</p>
<ul>
<li>
<p>并且当 <strong>I/O</strong> 设备工作完成之后，</p>
<p>设备向 <strong>CPU</strong> 发出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>中断信号</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}中断信号</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">中断信号</span></span></span></span></p>
</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113224651863.png" alt="image-20230113224651863" /></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113224916905.png" alt="image-20230113224916905" /></p>
<hr />
<h2 id="中断的分类"><a class="anchor" href="#中断的分类">#</a> 中断的分类</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113231212618.png" alt="image-20230113231212618" /></p>
<hr />
<p>另一种分类方式</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113231315562.png" alt="image-20230113231315562" /></p>
<h2 id="外中断的处理过程"><a class="anchor" href="#外中断的处理过程">#</a> 外中断的处理过程</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113231605864.png" alt="image-20230113231605864" /></p>
<p><strong>Step 1</strong>：执行完每个指令之后，<strong>CPU</strong> 都要检查当前是否有外部中断信号</p>
<p><strong>Step 2</strong>：如果检测到外部中断信号，则需要<strong>保护</strong>被中断进程的 <strong>CPU</strong> 环境（如程序状态字 <strong>PSW</strong>、程序计数器 <strong>PC</strong>、各种通用寄存器）</p>
<p><strong>Step 3</strong>：根据中断信号类型转入相应的中断处理程序</p>
<p><strong>Step 4</strong>：恢复原进程的 <strong>CPU</strong> 环境并退出中断，返回原进程继续往下执行</p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113232026776.png" alt="image-20230113232026776" /></p>
<h2 id="整体框架-4"><a class="anchor" href="#整体框架-4">#</a> 整体框架</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230113233754861.png" alt="image-20230113233754861" /></p>
<p>通过 &quot; 中断信号来自 <strong>CPU</strong> 内部还是外部 &quot; 判断是内 / 外中断</p>
<h1 id="系统调用"><a class="anchor" href="#系统调用">#</a> 系统调用</h1>
<p><strong>整体框架</strong></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230117001107703.png" alt="image-20230117001107703" /></p>
<h2 id="什么是系统调用有何用"><a class="anchor" href="#什么是系统调用有何用">#</a> 什么是系统调用，有何用？</h2>
<p>操作系统作为用户和计算机硬件之间的接口，需要向上提供一些简单易用的服务。主要包括命令接口和程序接口。</p>
<ul>
<li>其中，程序接口由一组<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>系统调用</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}系统调用</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">系统调用</span></span></span></span>组成。</li>
</ul>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230114001217424.png" alt="image-20230114001217424" /></p>
<p>“系统调用” 是操作系统提供给应用程序（程序员 / 编程人员）使用的接口，可以理解为一种<strong>可供应用程序调用的特殊函数</strong>，</p>
<ul>
<li>应用程序可以发出系统调用请求来获得操作系统的服务。</li>
</ul>
<hr />
<p><strong>问题</strong>：操作系统为什么要提供 “系统调用” 功能？</p>
<p>生活场景：你去学校打印店打印论文，当你按下 “打印” 之后，打印机开始工作。你的论文打印到一半时，另一位同学按下了 “打印” 按钮开始打印他自己的论文。</p>
<ul>
<li>最终，你的论文和该同学的论文页面并没有混杂在一起，都是按顺序依次打印的。</li>
</ul>
<p>思考：如果各个进程可以随意地使用打印机，会发生什么情况？</p>
<ul>
<li>
<p>你的论文打印到一半时，另一位同学按下了 “打印” 按钮开始打印他自己的论文。</p>
<p>结果，你的后半部分论文与该同学的页面混杂在一起了。。。</p>
</li>
</ul>
<p><strong>解决方法</strong>：操作系统提供 “系统调用” 功能，用户进程想要使用打印机这种 共享资源，只能通过系统调用向操作系统发出请求。</p>
<ul>
<li>操作系统会对各个请求进行<strong>协调管理</strong>。</li>
</ul>
<hr />
<p>应用程序通过<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>系统调用</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}系统调用</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">系统调用</span></span></span></span>请求操作系统的服务。</p>
<p>系统中的各种共享资源都由操作系统统一掌管，</p>
<ul>
<li>因此在用户程序中，凡是与资源有关的操作（如存储分配、I/O 操作、文件管理等），都必须通过系统调用的方式向操作系统提出服务请求，由操作系统代为完成。</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>这样可以保证系统的稳定性和安全性</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}这样可以保证系统的稳定性和安全性</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">这样可以保证系统的稳定性和安全性</span></span></span></span>，防止用户进行非法操作。</p>
<h2 id="系统调用按功能分类"><a class="anchor" href="#系统调用按功能分类">#</a> 系统调用（按功能分类）</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230114204724801.png" alt="image-20230114204724801" /></p>
<p>系统调用相关处理涉及到对系统资源的管理、对进程的控制，</p>
<ul>
<li>这些功能需要执行一些<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>特权指令</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}特权指令</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">特权指令</span></span></span></span>才能完成，</li>
<li>因此系统调用的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>相关处理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}相关处理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">相关处理</span></span></span></span>需要在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span>下进行</li>
</ul>
<h2 id="系统调用与库函数的区别"><a class="anchor" href="#系统调用与库函数的区别">#</a> 系统调用与库函数的区别</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230116234652675.png" alt="image-20230116234652675" /></p>
<table>
<thead>
<tr>
<th>普通应用程序</th>
<th>可直接进行系统调用，也可使用库函数。有的库函数涉及系统调用，有的不涉及</th>
</tr>
</thead>
<tbody>
<tr>
<td>编程语言</td>
<td>向上提供库函数。有时会将系统调用封装成库函数，以<strong>隐藏</strong>系统调用的一些细节，使上层进行系统调用更加方便。</td>
</tr>
<tr>
<td>操作系统</td>
<td>向上提供系统调用</td>
</tr>
<tr>
<td>裸机</td>
<td></td>
</tr>
</tbody>
</table>
<p>不涉及系统调用的库函数：如 “取绝对值” 的函数</p>
<p>涉及系统调用的库函数：如 “创建一个新文件” 的函数</p>
<h2 id="系统调用背后的过程"><a class="anchor" href="#系统调用背后的过程">#</a> 系统调用背后的过程</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230116235050296.png" alt="image-20230116235050296" /></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230116235554705.png" alt="image-20230116235554705" /></p>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230116235455267.png" alt="image-20230116235455267" /></p>
<p>传递系统调用参数</p>
<p>→ 执行陷入指令（内中断）（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>用户态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}用户态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">用户态</span></span></span></span>）</p>
<p>→ 执行系统调用相应服务程序（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span>）</p>
<p>→ 返回用户程序</p>
<p>注意:</p>
<ol>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>陷入指令</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}陷入指令</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">陷入指令</span></span></span></span>是在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>用户态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}用户态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">用户态</span></span></span></span>执行的，</p>
<p>执行陷入指令之后立即引发一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>内中断</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}内中断</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">内中断</span></span></span></span>，</p>
<p>从而 <strong>CPU</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>进入核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}进入核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">进入核心态</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>发出系统调用请求</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}发出系统调用请求</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">发出系统调用请求</span></span></span></span>是在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>用户态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}用户态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">用户态</span></span></span></span>，</p>
<p>而<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>对系统调用的相应处理</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}对系统调用的相应处理</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">对系统调用的相应处理</span></span></span></span>在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>核心态</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}核心态</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">核心态</span></span></span></span>下进行</p>
</li>
<li>
<p>陷入指令是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>唯一一个</mtext></mstyle></mrow><annotation encoding="application/x-tex">\color{red}唯一一个</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback" style="color:red;">唯一一个</span></span></span></span>只能在用户态执行，</p>
<p>而不可在核心态执行的指令</p>
</li>
</ol>
<h2 id="整体框架-5"><a class="anchor" href="#整体框架-5">#</a> 整体框架</h2>
<p><img loading="lazy" data-src="https://gitcode.net/qq_67720621/img/-/raw/master/typora-user-images-new/image-20230117001057046.png" alt="image-20230117001057046" /></p>
</div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2023-06-02 16:52:26" itemprop="dateModified" datetime="2023-06-02T16:52:26+08:00">2023-06-02</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" data-src="/assets/wechatpay.png" alt="htired 微信支付"/><p>微信支付</p></div><div><img loading="lazy" data-src="/assets/alipay.png" alt="htired 支付宝"/><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>htired：</strong>htired<i class="ic i-at"><em>@</em></i>何必要叹气呢？</li><li class="link"><strong>本文链接：</strong><a href="https://www.htired.top/2023/06/02/os/1%E3%80%81%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" title="1、操作系统概述">https://www.htired.top/2023/06/02/os/1、操作系统概述/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/06/01/algorithm/%E5%9F%83%E5%BC%8F%E7%AD%9B-%E5%B8%A6%E9%98%88%E5%80%BC%E7%9A%84%E5%9B%BE%E8%BF%9E%E9%80%9A%E6%80%A7/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;github.com&#x2F;htired&#x2F;MyPic&#x2F;blob&#x2F;main&#x2F;img&#x2F;792a4b6934fc491b81342206e3192e59.png?raw&#x3D;true" title="埃式筛-带阈值的图连通性"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>算法</span><h3>埃式筛-带阈值的图连通性</h3></a></div><div class="item right"><a href="/2023/06/02/os/2%E3%80%81%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;github.com&#x2F;htired&#x2F;MyPic&#x2F;blob&#x2F;main&#x2F;img&#x2F;t1.png?raw&#x3D;true" title="2、进程管理"><span class="type">下一篇</span><span class="category"><i class="ic i-flag"></i>操作系统</span><h3>2、进程管理</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5-%E5%8A%9F%E8%83%BD%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="toc-number">1.</span> <span class="toc-text"> 操作系统的概念、功能和目标</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text"> 操作系统的层次结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.</span> <span class="toc-text"> 操作系统的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="toc-number">1.3.</span> <span class="toc-text"> 操作系统的功能和目标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#os-%E4%BD%9C%E4%B8%BA%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E7%9A%84%E7%AE%A1%E7%90%86%E8%80%85"><span class="toc-number">1.3.1.</span> <span class="toc-text"> OS 作为系统资源的管理者</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#os-%E4%BD%9C%E4%B8%BA%E7%94%A8%E6%88%B7%E5%92%8C%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.3.2.</span> <span class="toc-text"> OS 作为用户和计算机硬件之间的接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%8E%A5%E5%8F%A3%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.3.2.1.</span> <span class="toc-text"> 命令接口 &amp; 程序接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gui"><span class="toc-number">1.3.2.2.</span> <span class="toc-text"> GUI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.3.2.3.</span> <span class="toc-text"> 小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E4%B8%BA%E6%9C%80%E6%8E%A5%E8%BF%91%E7%A1%AC%E4%BB%B6%E7%9A%84%E5%B1%82%E6%AC%A1"><span class="toc-number">1.3.3.</span> <span class="toc-text"> 作为最接近硬件的层次</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6"><span class="toc-number">1.4.</span> <span class="toc-text"> 整体框架</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E5%BE%81"><span class="toc-number">2.</span> <span class="toc-text"> 操作系统的特征</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91"><span class="toc-number">2.1.</span> <span class="toc-text"> 并发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E4%BA%92%E6%96%A5%E5%90%8C%E6%97%B6"><span class="toc-number">2.2.</span> <span class="toc-text"> 共享（互斥 &#x2F; 同时）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%92%8C%E5%85%B1%E4%BA%AB%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.3.</span> <span class="toc-text"> 并发和共享的关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8%E7%A9%BA%E5%88%86%E5%A4%8D%E7%94%A8"><span class="toc-number">2.4.</span> <span class="toc-text"> 虚拟（时分复用 &#x2F; 空分复用）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5"><span class="toc-number">2.5.</span> <span class="toc-text"> 异步</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="toc-number">2.6.</span> <span class="toc-text"> 小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E5%92%8C%E5%88%86%E7%B1%BB"><span class="toc-number">3.</span> <span class="toc-text"> 操作系统的发展和分类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5%E6%93%8D%E4%BD%9C%E7%B3%BB%E9%98%B6%E6%AE%B5"><span class="toc-number">3.1.</span> <span class="toc-text"> 手工操作系阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%BC%BA%E7%82%B9"><span class="toc-number">3.1.1.</span> <span class="toc-text"> 主要缺点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%B9%E5%A4%84%E7%90%86%E9%98%B6%E6%AE%B5"><span class="toc-number">3.2.</span> <span class="toc-text"> 批处理阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.2.1.</span> <span class="toc-text"> 单道批处理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9%E7%BC%BA%E7%82%B9"><span class="toc-number">3.2.1.1.</span> <span class="toc-text"> 主要优点 &amp; 缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.2.2.</span> <span class="toc-text"> 多道批处理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9%E7%BC%BA%E7%82%B9-2"><span class="toc-number">3.2.2.1.</span> <span class="toc-text"> 主要优点 &amp; 缺点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.3.</span> <span class="toc-text"> 分时操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9%E7%BC%BA%E7%82%B9-3"><span class="toc-number">3.3.1.</span> <span class="toc-text"> 主要优点 &amp; 缺点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%A1%AC%E5%AE%9E%E6%97%B6%E8%BD%AF%E5%AE%9E%E6%97%B6"><span class="toc-number">3.4.</span> <span class="toc-text"> 实时操作系统（硬实时 &#x2F; 软实时）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9"><span class="toc-number">3.4.1.</span> <span class="toc-text"> 主要优点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%87%A0%E7%A7%8D%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.5.</span> <span class="toc-text"> 其他几种操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6-2"><span class="toc-number">3.6.</span> <span class="toc-text"> 整体框架</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E5%92%8C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">4.</span> <span class="toc-text"> 操作系统的运行机制和体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">4.1.</span> <span class="toc-text"> 运行机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8C%87%E4%BB%A4"><span class="toc-number">4.1.1.</span> <span class="toc-text"> 什么是指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%9D%83%E6%8C%87%E4%BB%A4%E9%9D%9E%E7%89%B9%E6%9D%83%E6%8C%87%E4%BB%A4"><span class="toc-number">4.1.2.</span> <span class="toc-text"> 特权指令 &amp; 非特权指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%80%81%E5%86%85%E6%A0%B8%E6%80%81"><span class="toc-number">4.1.3.</span> <span class="toc-text"> 用户态 &amp; 内核态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E6%A0%B8%E7%A8%8B%E5%BA%8F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.1.4.</span> <span class="toc-text"> 内核程序 &amp; 应用程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%86%85%E6%A0%B8"><span class="toc-number">4.2.</span> <span class="toc-text"> 操作系统的内核</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E6%A0%B8"><span class="toc-number">4.2.1.</span> <span class="toc-text"> 内核</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">4.3.</span> <span class="toc-text"> 操作系统的体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E5%86%85%E6%A0%B8%E5%BE%AE%E5%86%85%E6%A0%B8"><span class="toc-number">4.3.1.</span> <span class="toc-text"> 大内核 &amp; 微内核</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6-3"><span class="toc-number">4.4.</span> <span class="toc-text"> 整体框架</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%92%8C%E5%BC%82%E5%B8%B8"><span class="toc-number">5.</span> <span class="toc-text"> 中断和异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E4%BD%9C%E7%94%A8"><span class="toc-number">5.1.</span> <span class="toc-text"> 中断的概念和作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">5.2.</span> <span class="toc-text"> 中断的分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E4%B8%AD%E6%96%AD%E7%9A%84%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B"><span class="toc-number">5.3.</span> <span class="toc-text"> 外中断的处理过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6-4"><span class="toc-number">5.4.</span> <span class="toc-text"> 整体框架</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">6.</span> <span class="toc-text"> 系统调用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E6%9C%89%E4%BD%95%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text"> 什么是系统调用，有何用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E6%8C%89%E5%8A%9F%E8%83%BD%E5%88%86%E7%B1%BB"><span class="toc-number">6.2.</span> <span class="toc-text"> 系统调用（按功能分类）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E4%B8%8E%E5%BA%93%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">6.3.</span> <span class="toc-text"> 系统调用与库函数的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E8%83%8C%E5%90%8E%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">6.4.</span> <span class="toc-text"> 系统调用背后的过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6-5"><span class="toc-number">6.5.</span> <span class="toc-text"> 整体框架</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li  class="active"><a href="/2023/06/02/os/1%E3%80%81%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" rel="bookmark" title="1、操作系统概述">1、操作系统概述</a></li><li ><a href="/2023/06/02/os/2%E3%80%81%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" rel="bookmark" title="2、进程管理">2、进程管理</a></li><li ><a href="/2023/06/02/os/3%E3%80%81%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" rel="bookmark" title="3、内存管理">3、内存管理</a></li><li ><a href="/2023/06/02/os/4%E3%80%81%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/" rel="bookmark" title="4、文件管理">4、文件管理</a></li><li ><a href="/2023/06/02/os/5%E3%80%81%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86/" rel="bookmark" title="5、设备管理">5、设备管理</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="htired" src="/assets/avatar.jpg"/><p class="name" itemprop="name">htired</p><div class="description" itemprop="description">送君南浦，伤如之何？</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">54</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">3</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">39</span><span class="name">标签</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/yourname" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/collect/" rel="section"><i class="ic i-shoucang"></i>收藏</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/06/02/os/2%E3%80%81%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/06/01/algorithm/%E5%9F%83%E5%BC%8F%E7%AD%9B-%E5%B8%A6%E9%98%88%E5%80%BC%E7%9A%84%E5%9B%BE%E8%BF%9E%E9%80%9A%E6%80%A7/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/os/" title="分类于操作系统">操作系统</a></div><span><a href="/2023/06/02/os/5%E3%80%81%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86/">5、设备管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/13/algorithm/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86%EF%BC%8C%E5%88%86%E8%A7%A3%E8%B4%A8%E5%9B%A0%E6%95%B0%EF%BC%8C%E5%BF%AB%E9%80%9F%E5%B9%82-%E5%8F%AF%E8%A2%AB-K-%E6%95%B4%E9%99%A4%E7%9A%84%E6%9C%80%E5%B0%8F%E6%95%B4%E6%95%B0/">欧拉定理，分解质因数，快速幂 可被 K 整除的最小整数</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/13/algorithm/%E7%BF%BB%E8%BD%AC%E5%AD%90%E6%95%B0%E7%BB%84%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%A7%E7%9A%84%E6%95%B0%E7%BB%84%E5%80%BC/">翻转子数组得到最大的数组值</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/23/algorithm/%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%B0%8F%E5%80%BC%E4%B9%8B%E5%92%8C/">子数组的最小值之和</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/os/" title="分类于操作系统">操作系统</a></div><span><a href="/2023/06/02/os/4%E3%80%81%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/">4、文件管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/06/algorithm/%E6%A3%80%E6%9F%A5%E6%9B%BF%E6%8D%A2%E5%90%8E%E7%9A%84%E5%8D%95%E8%AF%8D%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88/">检查替换后的单词是否有效</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/06/algorithm/%E5%B0%86%E6%95%B0%E7%BB%84%E6%B8%85%E7%A9%BA/">将数组清空</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/07/algorithm/%E6%95%B0%E4%BD%8D-dp-%E6%A8%A1%E6%9D%BF-%E8%87%B3%E5%B0%91%E6%9C%89-1-%E4%BD%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E6%95%B0%E5%AD%97/">数位 dp 模板 至少有 1 位重复的数字</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/05/06/algorithm/%E6%91%98%E6%B0%B4%E6%9E%9C/">摘水果</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于算法">算法</a></div><span><a href="/2023/04/27/algorithm/%E6%A0%91%E5%BD%A2dp%E6%A8%A1%E6%9D%BF-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D%E2%85%A2/">树形dp模板 打家劫舍Ⅲ</a></span></li></ul></div><div class="rpost pjax"><h2>最新评论</h2></div></div><div class="status"><div class="copyright">&copy; 2022 -<span itemprop="copyrightYear">2024</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">htired @ Htired Love</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">666k 字</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">10:06</span></div><div class="powered-by">基于 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
        path: `2023/06/02/os/1、操作系统概述/`,
        favicon: {
        show: `好久不见`,
        hide: `顺其自然`
    },
    search: {
        placeholder: "文章搜索",
        empty: "关于 「 ${query} 」，什么也没搜到",
        stats: "${time} ms 内找到 ${hits} 条结果"
    },
    copy_tex: true,
    katex: true,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>`,
    quiz: {
        choice: `单选题`,
        multiple: `多选题`,
        true_false: `判断题`,
        essay: `问答题`,
        gap_fill: `填空题`,
        mistake: `错题备注`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://s4.zstatic.net/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous" fetchpriority="high"></script><script src="https://s4.zstatic.net/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha384-ZvpUoO&#x2F;+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn&#x2F;6Z&#x2F;hRTt8+pR6L4N2" crossorigin="anonymous" fetchpriority="high"></script><script src="/js/siteInit.js?v=0.4.11" type="module" fetchpriority="high" defer></script></body></html>